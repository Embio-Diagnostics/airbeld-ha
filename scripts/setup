#!/usr/bin/env bash

set -e

cd "$(dirname "$0")/.."

# Check if running in virtual environment or if .venv exists
if [[ -n "$VIRTUAL_ENV" ]]; then
    echo "✓ Using active virtual environment: $VIRTUAL_ENV"
    python3 -m pip install --requirement requirements.txt
elif [[ -d ".venv" ]]; then
    echo "✓ Found .venv/, activating..."
    source .venv/bin/activate
    python3 -m pip install --requirement requirements.txt
else
    echo "⚠️  No virtual environment found."
    echo "   Installing globally (use './scripts/bootstrap' to create venv)"
    python3 -m pip install --requirement requirements.txt
fi
